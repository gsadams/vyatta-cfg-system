# This node is run before the rest of the interface is configured.
# We first check to see if DHCPv6 is still configured on the interface by
# looking over at the interface address parameters.  Then we check to see
# if the DHCPv6 client program is still running on this interface.  If both
# of those are true, then any change to this tree means that the user
# has changed this tree ONLY, and that we are going to have to re-start
# the DHCPv6 client using the new parameters.


priority: 319 # Run before interface has been configured

help: DHCPv6 options

end:
    ifname="$VAR(../@)"
    echo "dhcpv6-options: ifname is $ifname"

    sudo /usr/libexec/vyos/conf_mode/dhcpv6_client.py ethernet $ifname
